<?xml version="1.0" encoding="utf-8" ?>
<!-- 
    Note: Add entries to the App.config file for configuration settings
    that apply only to the Test project.
-->
<configuration>
	<configSections>
		<section name="routeMapping" type="NearForums.Configuration.Routing.RouteMappingConfiguration, NearForums" />
		<section name="site" type="NearForums.Configuration.SiteConfiguration, NearForums" />
		<section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog"/>
	</configSections>
	<appSettings>
		<add key="FakeApplicationRoot" value="..\..\..\NearForums.Web.Output\"/>
	</appSettings>
	<system.data>
		<DbProviderFactories>
			<remove invariant="MySql.Data.MySqlClient" />
			<add name="MySQL Data Provider" invariant="MySql.Data.MySqlClient" description=".Net Framework Data Provider for MySQL" type="MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data, Version=6.2.3.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d" />
		</DbProviderFactories>
	</system.data>
	<system.net>
		<mailSettings>
			<smtp deliveryMethod="SpecifiedPickupDirectory" from="admin@yoursite.com">
				<specifiedPickupDirectory pickupDirectoryLocation="c:\Temp\" />
			</smtp>
		</mailSettings>
	</system.net>
	<system.web>
		<membership defaultProvider="SqlMembershipProvider">
			<providers>
				<clear/>
				<add name="SqlMembershipProvider"
					 type="System.Web.Security.SqlMembershipProvider"
					 connectionStringName="MembershipUsers"
					 enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="true" passwordFormat="Hashed" maxInvalidPasswordAttempts="30" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" passwordStrengthRegularExpression="" applicationName="NearForums"/>
				<add name="MySqlMembershipProvider"
					 type="MySql.Web.Security.MySQLMembershipProvider"
					 connectionStringName="MembershipUsers"
					 enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="true" passwordFormat="Hashed" maxInvalidPasswordAttempts="30" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" passwordStrengthRegularExpression="" applicationName="NearForums"/>
			</providers>
		</membership>
	</system.web>
	<connectionStrings>
		<add name="Forums" connectionString="Data Source=localhost;Initial Catalog=Forums_V6010;User ID=sa;Password=12345678" />
		<add name="MembershipUsers" connectionString="Data Source=localhost;Initial Catalog=MembershipUsers;Integrated Security=True" providerName="System.Data.SqlClient"/>
		<add name="ForumsMSSQL" connectionString="Data Source=localhost;Initial Catalog=Forums;User ID=sa;Password=12345678" providerName="System.Data.SqlClient"/>
		<add name="ForumsMySql" connectionString="Server=localhost;Database=forums_dbo;Uid=root;Pwd=12345678;" providerName="MySql.Data.MySqlClient"/>
	</connectionStrings>
	<site timeZoneOffset="-5" dateFormat="F">
		<forums topicsPerPage="10" tagsCloudCount="30" />
		<topics messagesPerPage="10" />
		<template useTemplates="true" path="/content/templates/" />
		<spamPrevention
			timeToRepost="5" />
		<authorizationProviders fakeProvider="true">
			<facebook apiKey="193764998758" secretKey="6a8514f4093423c306d3302ebfbb43ef" />
			<formsAuth
				defined="true" />
		</authorizationProviders>
		<replacements>
			<add pattern="(?&lt;=^|\s|&gt;)(#(\d+))"
				 replacement="&lt;a href=&quot;#msg$2&quot; class=&quot;fastQuote&quot;&gt;[$1]&lt;/a&gt;" />
			<add pattern=":\)"
				 replacement="&lt;img src=&quot;http://mail.google.com/mail/help/images/whatsnew/emoji_smile.gif&quot; alt=&quot;smile&quot; /&gt;" />
		</replacements>
		<notifications>
			<subscription>
				<body>
					<![CDATA[
					<div style="font-family:arial,helvetica;font-size:12px;color:#333333;">
						<h3>Hi <!--!USERNAME!--></h3>
						<p>There is a new post on the thread <a href="<!--!URL!-->"><!--!TITLE!--></a>.</p>
						<p>To see the post go to: <a href="<!--!URL!-->"><!--!URL!--></a>.</p>
						<br />
						<p>
							Best regards,<br />
							nearforums team.
						</p>
						<br />
						<hr />
						<p><em>If you don't want to receive emails from this thread, just click on the following link: <a href="<!--!UNSUBSCRIBEURL!-->"><!--!UNSUBSCRIBEURL!--></a></em></p>
					</div>
				]]>
				</body>
			</subscription>
			<membershipPasswordReset>
				<body>
					<![CDATA[
					<div style="font-family:arial,helvetica;font-size:12px;color:#333333;">
						<h3>Hi <!--!USERNAME!--></h3>
						<p>Follow the following link to reset your password: <a href="<!--!URL!-->"><!--!URL!--></a>.</p>
						<br />
						<p>This link will expire in 48 hours.</p>
						<br />
						<p>
							Best regards,<br />
							nearforums team.
						</p>
					</div>
				]]>
				</body>
			</membershipPasswordReset>
		</notifications>
	</site>
	<routeMapping>
		<routes>
			<add url="" controller="Home" action="Index" />
			<add url="category/{category}/{page}" controller="Categories" action="Detail">
				<defaults>
					<add key="page" value="0" />
				</defaults>
				<constraints>
					<add key="page" value="\d+" />
				</constraints>
			</add>
		</routes>
	</routeMapping>
	<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<targets>
			<target name="logFile" xsi:type="File" fileName="${basedir}/logfile.txt" />
		</targets>
		<rules>
			<logger name="*" minLevel="Trace" writeTo="logFile">
				<filters>
					<when condition="contains(message,'ExceptionType:ArgumentException') and contains(message,'at System.Web.Mvc.ReflectedActionDescriptor.ExtractParameterFromDictionary')" action="Ignore" />
				</filters>
			</logger>
		</rules>
	</nlog>
</configuration>
